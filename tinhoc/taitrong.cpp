#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define pb(i) push_back(i)
#define pu(i) push(i)
#define fu(i,a,b,c) for(int i=a;i<=b;i=i+c)
#define fd(i,a,b,c) for(int i=a;i>=b;i=i-c)
#define IOS ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);
    int m,n,x,y,z,s,t;
    int cha[1001],d[1001];
    typedef pair<int,int>ii;
    priority_queue<ii,vector<ii> > qu;

/*
-----------------AUTHOR-----------------------
--------------Parth Mangal--------------------
----------------------------------------------

██████╗░██╗░░░░░███████╗░█████╗░░██████╗███████╗  ██████╗░░█████╗░███╗░░██╗██╗████████╗
██╔══██╗██║░░░░░██╔════╝██╔══██╗██╔════╝██╔════╝  ██╔══██╗██╔══██╗████╗░██║╚█║╚══██╔══╝
██████╔╝██║░░░░░█████╗░░███████║╚█████╗░█████╗░░  ██║░░██║██║░░██║██╔██╗██║░╚╝░░░██║░░░
██╔═══╝░██║░░░░░██╔══╝░░██╔══██║░╚═══██╗██╔══╝░░  ██║░░██║██║░░██║██║╚████║░░░░░░██║░░░
██║░░░░░███████╗███████╗██║░░██║██████╔╝███████╗  ██████╔╝╚█████╔╝██║░╚███║░░░░░░██║░░░
╚═╝░░░░░╚══════╝╚══════╝╚═╝░░╚═╝╚═════╝░╚══════╝  ╚═════╝░░╚════╝░╚═╝░░╚══╝░░░░░░╚═╝░░░

░██╗░░░░░░░██╗░█████╗░████████╗░█████╗░██╗░░██╗  ███╗░░░███╗██╗░░░██╗  ░█████╗░░█████╗░██████╗░███████╗
░██║░░██╗░░██║██╔══██╗╚══██╔══╝██╔══██╗██║░░██║  ████╗░████║╚██╗░██╔╝  ██╔══██╗██╔══██╗██╔══██╗██╔════╝
░╚██╗████╗██╔╝███████║░░░██║░░░██║░░╚═╝███████║  ██╔████╔██║░╚████╔╝░  ██║░░╚═╝██║░░██║██║░░██║█████╗░░
░░████╔═████║░██╔══██║░░░██║░░░██║░░██╗██╔══██║  ██║╚██╔╝██║░░╚██╔╝░░  ██║░░██╗██║░░██║██║░░██║██╔══╝░░
░░╚██╔╝░╚██╔╝░██║░░██║░░░██║░░░╚█████╔╝██║░░██║  ██║░╚═╝░██║░░░██║░░░  ╚█████╔╝╚█████╔╝██████╔╝███████╗
░░░╚═╝░░░╚═╝░░╚═╝░░╚═╝░░░╚═╝░░░░╚════╝░╚═╝░░╚═╝  ╚═╝░░░░░╚═╝░░░╚═╝░░░  ░╚════╝░░╚════╝░╚═════╝░╚══════╝
*/
void inti()
{
   freopen("taitrong.inp","r",stdin);
   freopen("taitrong.out","w",stdout);
}
vector<ii>vec[1001];
void solve()
{
    qu.push(ii(0,s));
    int minn=INT_MAX;
    while(qu.empty() == false)
    {

        ll u=qu.top().first;
        ll v=qu.top().second;
        qu.pop();
        if(v==t)
        {
return;
ll s =0 ;
            while(v!=s)
            {
                minn=min(minn,cha[v]);
                v=d[v];

                cout<<d[v]<<endl;
                s++;
                if(s==11)
                {
                    break;
                }
            }
            cout<<minn;
        return;
        }
//cout <<u << " " << v <<endl;
        fu(i,0,vec[v].size()-1,1)
        {
            ll o=vec[v][i].first;
            ll j=vec[v][i].second;
            if(d[j]!=v&&cha[j]<o&&d[j]!=INT_MAX)
            {
                d[j]=v;

                cha[j]=o;
               qu.push(ii(o,j));
               cout <<j << " " << v <<endl;
            }



        }


    }
    cout<<-1<<endl;
    return;
}
void nhap()
{

cin >> m >> n >> s >> t;

fu(i,1,n,1)
{
    cin >> x >> y >> z;
    vec[x].pb(ii(z,y));
    vec[y].pb(ii(z,x));

}
//ll f,g;
//fu(i,t,s,1)
//{
//    fu(j,0,vec[i].size()-1,1)
//    {
//          f=vec[i][j].first;
//         g=vec[i][j].second;
//          cout << i << " " << f << " " << g <<endl;
//    }
//}
//return;
fu(i,1,n,1)
{
    d[i]=i;
}
d[s]=INT_MAX;
solve();
}
int main()
{
IOS
inti();
nhap();

}

